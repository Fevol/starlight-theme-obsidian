---
import type { Props } from '@astrojs/starlight/props';
import Default from '@astrojs/starlight/components/Sidebar.astro';
import Search from 'virtual:starlight/components/Search';

import LanguageSelect from 'virtual:starlight/components/LanguageSelect';
import SiteTitle from 'virtual:starlight/components/SiteTitle';
import SocialIcons from 'virtual:starlight/components/SocialIcons';
import ThemeSelect from './ThemeSelect.astro';


import config from 'virtual:starlight/user-config';

const shouldRenderSearch = config.pagefind || config.components.Search !== '@astrojs/starlight/components/Search.astro';
---

<!-- (STARLIGHT-THEME-OBSIDIAN): Reorder site sidebar to always contain  -->
<div class="sidebar-top">
    <div class="title-wrapper ">
        <SiteTitle {...Astro.props} />
    </div>
</div>

{shouldRenderSearch && <Search {...Astro.props} />}

<div class="action-group">
    <div class="social-icons">
        <SocialIcons {...Astro.props} />
    </div>
    <ThemeSelect {...Astro.props} />
    <LanguageSelect {...Astro.props} />
</div>

<Default {...Astro.props}><slot /></Default>
